<!DOCTYPE html>
<html>
    <head>
        <title>NY Tree Data Service</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    </head>

    <body>
		<div>
            <p>Choose borough </p>
				<select class="ddboro" id="ddboro">
					<option selected="selected">Select</option>
                </select>			
		
		</div>
        <div>
            <p>Choose tree type </p>
				<select class="ddtt" id="ddtt">
					<option selected="selected">Select</option>
                </select>			
        </div>
		<script type="text/javascript" >		
		var tt;
		var boro
		var ttselected;
		var boroselected;
			$(document).ready(function() {
				$.ajax({
					url: "https://data.cityofnewyork.us/resource/uvpi-gqnh.json?$select=spc_common&$group=spc_common&$limit=5000"
				}).then(function(data) {
					tt = data;
					for(var i=0;i<data.length;i++)
					{
                        var opt = new Option(data[i].spc_common);
                        $("#ddtt").append(opt);
                    }
				   //$('.greeting-id').append(data.id);
				   //$('.greeting-content').append(data.content);
				   //alert(data[0].spc_common);
				});

				$.ajax({
					url: "https://data.cityofnewyork.us/resource/uvpi-gqnh.json?$select=boroname&$group=boroname&$limit=5000"
				}).then(function(data) {
					boro = data;
					for(var i=0;i<data.length;i++)
					{
                        var opt = new Option(data[i].boroname);
                        $("#ddboro").append(opt);
                    }
				   //$('.greeting-id').append(data.id);
				   //$('.greeting-content').append(data.content);
				   //alert(data[0].boroname);
				});
				
				$("#ddboro").change(function () {
					var selectedText = $(this).find("option:selected").text();
					var selectedValue = $(this).val();
					alert("Selected Text: " + selectedText + " Value: " + selectedValue);
				});				

				$("#ddtt").change(function () {
					var selectedText = $(this).find("option:selected").text();
					var selectedValue = $(this).val();
					alert("Selected Text: " + selectedText + " Value: " + selectedValue);
					
				});

				if(ttselected && boroselected)
					alert("here");
			});		
		
		</script>

    </body>
</html>